{% block content %}
<h2 style="margin-bottom: 20px;">Transaction Details: {{ start.strftime('%b %d, %Y') }} – {{ end.strftime('%b %d, %Y') }}</h2>
<div style="margin-top: 30px;">
    <form action="{{ url_for('viewbudget') }}" method="get" style="display:inline-block; margin-right: 10px;">
        <button type="submit" style="padding: 8px 15px; background-color: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer;">
            ← Back to Budget
        </button>
    </form>
    <form action="{{ url_for('home') }}" method="get" style="display:inline-block; margin-right: 10px;">
        <button type="submit" style="padding: 8px 15px; background-color: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer;">
            ← Back to Home
        </button>
    </form>
</div>
{% if categorized %}
    {% for ttype, transactions in categorized.items() %}
        <h3 style="margin-top: 30px; margin-bottom: 10px;">{{ ttype }}</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="background-color: #f2f2f2;">
                    <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Date</th>
                    <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Description</th>
                    <th style="border: 1px solid #ddd; padding: 8px; text-align: right;">Amount</th>
                </tr>
            </thead>
            <tbody>
                {% for tx in transactions %}
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 8px;">{{ tx.date.strftime('%Y-%m-%d') }}</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">{{ tx.description }}</td>
                        <td style="border: 1px solid #ddd; padding: 8px; text-align: right;">${{ "%.2f"|format(tx.total) }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endfor %}
{% else %}
    <p>No transactions found for this week.</p>
{% endif %}
{% endblock %}

